<script setup>
import MainHeader from "@/components/layout/MainHeader.vue";
import MainBody from "@/components/layout/MainBody.vue";
import MainNavigation from "@/components/layout/MainNavigation.vue";
import { ref } from "vue";
import DialogCard from "@/components/card/DialogCard.vue";

const dialog = ref(null);
const selectedItem = ref(null);

const gender = ref("M");
const sale = ref(true);

const manList = [
    {
        title: "ë§¤ì¹­ê¶Œ 5íšŒ",
        sale: "50",
        originPrice: "338,000",
        discountPrice: "169,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 3íšŒ",
        sale: "40",
        originPrice: "198,000",
        discountPrice: "119,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 1íšŒ",
        sale: "30",
        originPrice: "70,000",
        discountPrice: "49,000"
    }
];

const womanList = [
    {
        title: "ë§¤ì¹­ê¶Œ 5íšŒ",
        sale: "50",
        originPrice: "198,000",
        discountPrice: "99,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 3íšŒ",
        sale: "40",
        originPrice: "115,000",
        discountPrice: "69,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 1íšŒ",
        sale: "30",
        originPrice: "41,000",
        discountPrice: "29,000"
    }
];

const manSaleList = [
    {
        title: "ë§¤ì¹­ê¶Œ 5íšŒ",
        sale: "50",
        originPrice: "338,000",
        discountPrice: "169,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 3íšŒ",
        sale: "50",
        originPrice: "198,000",
        discountPrice: "99 ,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 1íšŒ",
        sale: "50",
        originPrice: "70,000",
        discountPrice: "35,000"
    }
];

const womanSaleList = [
    {
        title: "ë§¤ì¹­ê¶Œ 5íšŒ",
        sale: "50",
        originPrice: "198,000",
        discountPrice: "99,000"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 3íšŒ",
        sale: "50",
        originPrice: "115,000",
        discountPrice: "57,500"
    },
    {
        title: "ë§¤ì¹­ê¶Œ 1íšŒ",
        sale: "50",
        originPrice: "41,000",
        discountPrice: "20,500"
    }
];

const clickedText = () => {
    dialog.value = false;
    selectedItem.value = null;
    alert("ë¬¸ìë¡œ ì•ˆë‚´í•´ë“œë ¸ìŠµë‹ˆë‹¤!");
};

const list = sale.value ? (gender.value === "M" ? manSaleList : womanSaleList) : gender.value === "M" ? manList : womanList;
</script>

<template>
    <main-header start="back" end="mail" title />
    <main-body is-header is-navigation>
        <div class="view-layout">
            <p class="title">ë§¤ì¹­ê¶Œ ìŠ¤í† ì–´</p>
            <p class="sub-title">ìƒˆë¡œìš´ ë§Œë‚¨ì„ ìœ„í•´ì„œëŠ” ë§¤ì¹­ê¶Œì´ í•„ìš”í•´ìš”!</p>
            <div class="description">
                <p style="font-size: 24px;">ì”ì—¬ ë§¤ì¹­ê¶Œ 100% í™˜ë¶ˆ ê°€ëŠ¥</p>
                <p style="font-size: 15px;">(ì»¤í”Œ ì„±ì‚¬ / ë‹¨ìˆœ ë³€ì‹¬ ë“± ì‚¬ìœ ë¶ˆë¬¸)</p>
            </div>
            <div class="card-layout">
                <div v-show="sale">
                    <p class="event-title">PLOT ìµœì´ˆ ê°€ì… EVENT !!</p>
                    <div class="event-text">
                        <p><span style="color: #ff0000;">ê°€ì… í›„ 24ì‹œê°„</span>ë™ì•ˆë§Œ</p>
                        <p>ëª¨ë“  ë§¤ì¹­ê¶Œì„ <span style="color: #ff0000;">50% í• ì¸</span>ëœ</p>
                        <p>ê°€ê²©ìœ¼ë¡œ êµ¬ì… ê°€ëŠ¥í•©ë‹ˆë‹¤</p>
                    </div>
                </div>
                <v-card
                    v-for="(item, i) in list"
                    :key="item.title + item.sale"
                    class="card-default"
                    :style="i === 1 && 'border-color: #FF0000'"
                    @click="
                        () => {
                            dialog = true;
                            selectedItem = item;
                        }
                    "
                >
                    <div class="card-content">
                        <span class="card-title">{{ item.title }}</span>
                        <div class="card-price-layout">
                            <div class="card-price-discount">
                                <span>{{ item.sale }}%</span>
                                <span>OFF</span>
                            </div>
                            <div class="card-price">
                                <span style="text-decoration: line-through; ">{{ item.originPrice }}</span>
                                <span style="color: #FF0000;">{{ item.discountPrice }}</span>
                            </div>
                        </div>
                    </div>
                    <div v-if="i === 1" class="card-topic">
                        ì¸ê¸°
                    </div>
                </v-card>
            </div>
            <div class="card-policy">
                <p style="text-align: center; font-weight: 700;">[ë§¤ì¹­ê¶Œ í™˜ë¶ˆ ì •ì±…]</p>
                <br />
                <p>- í™˜ë¶ˆ ìš”ì²­ì€ [ì„¤ì • - ê³ ê°ë¬¸ì˜]ë¡œ ë¬¸ì˜ ë‚¨ê²¨ì£¼ì‹œë©´ í™•ì¸ í›„ í™˜ë¶ˆ ë„ì™€ë“œë¦½ë‹ˆë‹¤.</p>
                <p>- ì‚¬ìš©í•œ ë§¤ì¹­ê¶Œ(ë§¤ì¹­ê¶Œ 1íšŒ êµ¬ë§¤ ê°€ê²© ê¸°ì¤€), VATë¥¼ ì œì™¸í•œ ê¸ˆì•¡ìœ¼ë¡œ 3ì˜ì—…ì¼ ë‚´ì— í™˜ë¶ˆë©ë‹ˆë‹¤.</p>
                <p>- í”ŒëŸ¬íŒ…ì€ ì—°ë½ì²˜ ê³µê°œ ì´í›„ ë§Œë‚¨ì—ëŠ” ê´€ì—¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§¤ì¹­ ì´í›„ ì„±ì˜ì—†ëŠ” ì—°ë½ìœ¼ë¡œ ì¸í•œ ë§¤ì¹­ë¹„ í™˜ë¶ˆì€ ë¶ˆê°€í•©ë‹ˆë‹¤.</p>
                <p>- ë§¤ì¹­ ì§í›„ ì—°ë½ ë‘ì ˆ í˜¹ì€ ë¹„ë§¤ë„ˆ íšŒì›ì€ ê³ ê°ë¬¸ì˜ë¥¼ í†µí•´ ì‹ ê³ í•´ì£¼ì‹œë©´ ê´€ë¦¬ì íŒë‹¨ í›„ ë¶ˆëŸ‰íšŒì›ìœ¼ë¡œ ì´ìš©ì •ì§€ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>
            </div>
        </div>
        <v-dialog v-model="dialog" width="auto" :persistent="true">
            <dialog-card v-if="!!selectedItem">
                <div class="d-card-body">
                    <div class="d-card-body-content">
                        <p style="font-size: 18px; font-weight: 700;">ğŸ§ ìƒí’ˆ ê²°ì œì°½ ğŸ§</p>
                        <div class="d-price-layout">
                            <p style="font-size: 18px;">{{ selectedItem.title }}</p>
                            <div style="display: flex; gap: 5px;">
                                <div class="d-price-discount-layout">
                                    <span>{{ selectedItem.sale }}%</span>
                                    <span>OFF</span>
                                </div>
                                <div class="d-price">
                                    <span style="text-decoration: line-through; ">{{ selectedItem.originPrice }}</span>
                                    <span style="color: #FF0000;">{{ selectedItem.discountPrice }}</span>
                                </div>
                            </div>
                        </div>
                        <div class="d-description">
                            <p>ì…ê¸ˆ í›„ 1ì‹œê°„ ë‚´ í™•ì¸í•˜ì—¬,</p>
                            <p>ë§¤ì¹­ê¶Œ ì¶©ì „ ë° í™•ì¸ ë¬¸ì ë°œì†¡í•´ë“œë ¤ìš” :)</p>
                        </div>
                    </div>
                    <v-btn class="d-card-body-btn1" @click="clickedText">
                        ë¬¸ìë¡œ ì•ˆë‚´ë°›ê¸°
                    </v-btn>
                </div>
            </dialog-card>
        </v-dialog>
    </main-body>
    <main-navigation />
</template>

<style scoped>
.view-layout {
    width: 100%;
    padding: 28px 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.title {
    width: fit-content;
    padding: 8px 40px;
    background: #ffffff;
    box-shadow: 4px 4px 10px #60e0e0;
    border-radius: 16px;
    text-align: center;
    font-weight: 700;
    font-size: 23px;
    margin-bottom: 24px;
}

.sub-title {
    width: fit-content;
    padding: 12px 16px;
    background: #ffffff;
    box-shadow: 4px 4px 10px #60e0e0;
    border-radius: 16px;
    text-align: center;
    font-weight: 700;
    font-size: 15px;
    margin-bottom: 28px;
}

.description {
    text-align: center;
    font-weight: 700;
    color: #35a8aa;
    margin-bottom: 28px;
}

.card-layout {
    width: 100%;
    padding: 24px;
    background: #ffffff;
    box-shadow: 4px 4px 10px #60e0e0;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 48px;
}

.card-default {
    position: relative;
    border: 2px solid #a49999;
    border-radius: 8px;
    font-weight: 700;
    box-shadow: none;
    padding-inline: 20px;
    margin: 0;
}

.card-content {
    width: 100%;
    height: 80px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.card-title {
    color: #35a8aa;
    font-size: 22px;
    font-weight: 700;
}

.card-price-layout {
    display: flex;
    gap: 5px;
}

.card-price-discount {
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: #ff0000;
    font-size: 12px;
}

.card-price {
    display: flex;
    flex-direction: column;
    justify-content: center;
    font-size: 16px;
    font-weight: 700;
}
.card-topic {
    position: absolute;
    right: 18px;
    top: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #ff0000;
    width: 30px;
    height: 20px;
    border-radius: 3px;
    color: #ffffff;
    font-weight: 700;
    font-size: 11px;
}
.card-policy {
    width: 100%;
    display: flex;
    flex-direction: column;
    font-size: 15px;
    font-weight: 400;
    color: #8c8c8c;
    gap: 8px;
    padding-inline: 12px;
}

.d-card-body {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    padding: 20px;
}

.d-card-body-content {
    width: 100%;
    background-color: #f1f1f1;
    border-radius: 16px;
    padding: 32px 16px;
    font-size: 13px;
    font-weight: 300;
    text-align: center;
    margin-bottom: 28px;
    color: #000000;
    display: flex;
    flex-direction: column;
    gap: 32px;
}

.d-card-body-btn1 {
    width: 100%;
    font-size: 20px;
    font-weight: 700;
    text-align: center;
    color: #ffffff;
    height: 44px;
    background: #60e0e0;
    border: 1px solid #60e0e0;
    border-radius: 24px;
    letter-spacing: 0;
}

.d-price-layout {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 700;
    gap: 20px;
}

.d-price-discount-layout {
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: #ff0000;
    font-size: 12px;
}

.d-price {
    display: flex;
    flex-direction: column;
    justify-content: center;
    font-size: 16px;
}

.d-description {
    font-size: 13px;
    font-weight: 600;
}

.event-title {
    text-align: center;
    font-weight: 700;
    font-size: 24px;
    color: #ff0000;
    text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
    margin-bottom: 20px;
}

.event-text {
    text-align: center;
    font-weight: 700;
    font-size: 20px;
    color: #000000;
    text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
}
</style>
